menu_path=Extract/ISI/additions
label=Extract Document Sources
description=Extracts a table of document sources from the ISI database
in_data=db:isi
out_data=prefuse.data.Table
service.pid=edu.iu.scipolicy.database.isi.extract.core_entities.ExtractDocumentSourcesAlgorithm
remoteable=false

#TODO: Verify foreign key fields (update ISI Loader to get what they're actually called now)
query = select FULL_TITLE, ISO_TITLE_ABBREVIATION, TWENTY_NINE_CHARACTER_SOURCE_TITLE_ABBREVIATION,  COUNT(*) as NUM_PAPERS_CONTAINED_FROM_DATASET, \n\
  ISSN,  PUBLISHER_NAME,  PUBLICATION_TYPE, \n\
   BOOK_SERIES_TITLE , BOOK_SERIES_SUBTITLE , CONFERENCE_HOST, \n\
  CONFERENCE_LOCATION, CONFERENCE_SPONSORS, CONFERENCE_TITLE \n\
from SOURCE  \n\
inner join \n\
DOCUMENT \n\
on DOCUMENT.DOCUMENT_SOURCE=SOURCE.PK left join PUBLISHER \n\
on SOURCE.PK = PUBLISHER.PUBLISHER_SOURCE_FK group by DOCUMENT.PK, BOOK_SERIES_TITLE , BOOK_SERIES_SUBTITLE, CONFERENCE_HOST, \n\
 CONFERENCE_LOCATION, CONFERENCE_SPONSORS, CONFERENCE_TITLE, FULL_TITLE, \n\
 ISO_TITLE_ABBREVIATION, ISSN, PUBLICATION_TYPE, TWENTY_NINE_CHARACTER_SOURCE_TITLE_ABBREVIATION, PUBLISHER_NAME
output_label= Document Sources