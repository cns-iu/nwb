menu_path=Extract/ISI/start
label=Extract Journal Co-Citation Network (core only)
description=Extracts the core journal co-citation network from this database.
in_data=db:isi
out_data=prefuse.data.Graph
service.pid=edu.iu.scipolicy.database.isi.extract.network.cocitation.journal.core
remoteable=true
node_query= \
SELECT DISTINCT source.pk                                              AS id, \n\
       Coalesce(source.full_title, \n\
                source.iso_title_abbreviation, \n\
                source.twenty_nine_character_source_title_abbreviation, \n\
                'Source with ID ' || Char(source.pk))         AS label, \n\
       source.full_title, \n\
       source.iso_title_abbreviation, \n\
       source.twenty_nine_character_source_title_abbreviation AS short_title, \n\
       source.publication_type, \n\
       source.issn, \n\
       source.book_series_title, \n\
       source.book_series_subtitle, \n\
       source.conference_title, \n\
       source.conference_host, \n\
       source.conference_location, \n\
       source.conference_sponsors \n\
FROM   source \n\
       JOIN document --DERBY-PROPERTIES joinStrategy=HASH \n\
         ON (source.pk = document.document_source_fk)
edge_query= \
SELECT source, \n\
       target, \n\
       intersection as weight, \n\
       intersection as times_cocited, \n\
       earliest_cocitation, \n\
       latest_cocitation \n\
FROM (SELECT   source1.pk                            AS source, \n\
               source2.pk                            AS target, \n\
               Count(distinct citing_document.pk )      AS intersection, \n\
               Min(citing_document.publication_year) AS earliest_cocitation, \n\
               Max(citing_document.publication_year) AS latest_cocitation \n\
FROM     cited_references cited_references1 \n\
         JOIN cited_references cited_references2  --DERBY-PROPERTIES joinStrategy=HASH \n\
           ON (cited_references1.cited_references_document_fk = cited_references2.cited_references_document_fk) \n\
         JOIN document citing_document  --DERBY-PROPERTIES joinStrategy=HASH \n\
           ON (cited_references1.cited_references_document_fk = citing_document.pk) \n\
         JOIN reference reference1  --DERBY-PROPERTIES joinStrategy=HASH \n\
           ON (cited_references1.cited_references_reference_fk = reference1.pk) \n\
         JOIN document document1  --DERBY-PROPERTIES joinStrategy=HASH \n\
           ON (reference1.paper_fk = document1.pk) \n\
         JOIN source source1  --DERBY-PROPERTIES joinStrategy=HASH \n\
           ON (document1.document_source_fk = source1.pk) \n\
         JOIN reference reference2  --DERBY-PROPERTIES joinStrategy=HASH \n\
           ON (cited_references2.cited_references_reference_fk = reference2.pk) \n\
         JOIN document document2 --DERBY-PROPERTIES joinStrategy=HASH \n\
           ON (reference2.paper_fk = document2.pk) \n\
         JOIN source source2  --DERBY-PROPERTIES joinStrategy=HASH \n\
           ON (document2.document_source_fk = source2.pk) \n\
WHERE    source1.pk < source2.pk \n\
GROUP BY source1.pk, source2.pk) AS inner_query
id_column=ID
source_column=SOURCE
target_column=TARGET
directed=false
output_label=Core journal co-citation network
documentation_url=https://nwb.slis.indiana.edu/community/?n=Sci2Algorithm.ISICoreJournalCoCitationNetwork