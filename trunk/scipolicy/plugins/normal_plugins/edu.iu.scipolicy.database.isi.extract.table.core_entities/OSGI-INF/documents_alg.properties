menu_path=Extract/ISI/additions
label=Extract Documents
description=Extracts a table of documents from the ISI database
in_data=db:isi
out_data=prefuse.data.Table
service.pid=edu.iu.sci2.database.isi.extract.table.core_entities.ExtractDocumentsAlgorithm
remoteable=false

query = \
SELECT  \n\
	TITLE, \n\
	TIMES_CITED, \n\
	ABSTRACT_TEXT, \n\
	ARTICLE_NUMBER, \n\
	BEGINNING_PAGE, \n\
	CITED_REFERENCE_COUNT, \n\
	CITED_YEAR, \n\
	DIGITAL_OBJECT_IDENTIFIER, \n\
    DOCUMENT_TYPE, \n\
    DOCUMENT_VOLUME, \n\
    ENDING_PAGE, \n\
    FIRST_AUTHOR_FK, \n\
    FUNDING_AGENCY_AND_GRANT_NUMBER, \n\
    FUNDING_TEXT, \n\
    ISBN, \n\
    ISI_DOCUMENT_DELIVERY_NUMBER, \n\
	ISI_UNIQUE_ARTICLE_IDENTIFIER, \n\
	ISSUE, \n\
	LANGUAGE, \n\
	PAGE_COUNT, \n\
	PART_NUMBER, \n\
	PUBLICATION_DATE, \n\
	PUBLICATION_YEAR, \n\
	VARCHAR ( \n\
				COALESCE ( \n\
					SOURCE.FULL_TITLE, \n\
					SOURCE.TWENTY_NINE_CHARACTER_SOURCE_TITLE_ABBREVIATION, \n\
					SOURCE.ISO_TITLE_ABBREVIATION, \n\
					'Conference ' || SOURCE.CONFERENCE_TITLE, \n\
					'Book Series ' || SOURCE.BOOK_SERIES_TITLE, \n\
					'Source with ID ' || CHAR (SOURCE.PK)), \n\
				32000) \n\
			AS SOURCE, \n\
	SPECIAL_ISSUE, \n\
	SUBJECT_CATEGORY, \n\
	SUPPLEMENT \n\
FROM \n\
	DOCUMENT \n\
LEFT JOIN \n\
		SOURCE --DERBY-PROPERTIES joinStrategy=HASH \n\
			ON (DOCUMENT.DOCUMENT_SOURCE_FK = SOURCE.PK)

output_label=Documents